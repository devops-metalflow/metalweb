import { resultSuccess, resultError, getRequestToken, requestParams } from '../_util';
import { MockMethod } from 'vite-plugin-mock';
import { createFakeUserList } from './user';

// single
const adminRoute = [
  {
    id: 1,
    createdAt: '2023-01-10 19:42:57',
    updatedAt: '2023-01-10 19:42:57',
    parentId: 0,
    name: 'Dashboard',
    title: '首页',
    icon: 'home-svg|svg',
    path: '/dashboard',
    redirect: '',
    component: '/dashboard/analysis/index',
    permission: '',
    creator: '系统自动创建',
    sort: 0,
    status: 1,
    visible: 1,
    breadcrumb: 0,
    affix: 0,
    children: [],
  },
  {
    id: 2,
    createdAt: '2023-01-10 19:42:57',
    updatedAt: '2023-01-10 19:42:57',
    parentId: 0,
    name: 'Node',
    title: '终端管理',
    icon: 'server-svg|svg',
    path: '/node',
    redirect: '/node/list',
    component: 'LAYOUT',
    permission: '',
    creator: '系统自动创建',
    sort: 1,
    status: 1,
    visible: 1,
    breadcrumb: 0,
    affix: 0,
    children: [
      {
        id: 5,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 2,
        name: 'List',
        title: '终端列表',
        icon: 'servers-svg|svg',
        path: 'list',
        redirect: '',
        component: '/node/list/index',
        permission: '',
        creator: '系统自动创建',
        sort: 0,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 6,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 2,
        name: 'Ssh',
        title: '远程连接',
        icon: 'terminal|svg',
        path: 'ssh',
        redirect: '',
        component: '/node/ssh/index',
        permission: '',
        creator: '系统自动创建',
        sort: 1,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 7,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 2,
        name: 'My',
        title: '我的收藏',
        icon: 'like|svg',
        path: 'my',
        redirect: '',
        component: '/node/my/index',
        permission: '',
        creator: '系统自动创建',
        sort: 2,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
    ],
  },
  {
    id: 3,
    createdAt: '2023-01-10 19:42:57',
    updatedAt: '2023-01-10 19:42:57',
    parentId: 0,
    name: 'Back',
    title: '后台管理',
    icon: 'back-config-svg|svg',
    path: '/back',
    redirect: '/back/label',
    component: 'LAYOUT',
    permission: '',
    creator: '系统自动创建',
    sort: 2,
    status: 1,
    visible: 1,
    breadcrumb: 0,
    affix: 0,
    children: [
      {
        id: 8,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 3,
        name: 'Label',
        title: '标签管理',
        icon: 'labels-svg|svg',
        path: 'label',
        redirect: '',
        component: '/back/label/index',
        permission: '',
        creator: '系统自动创建',
        sort: 0,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 9,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 3,
        name: 'Worker',
        title: 'worker配置',
        icon: 'worker-svg|svg',
        path: 'worker',
        redirect: '',
        component: '/back/worker/index',
        permission: '',
        creator: '系统自动创建',
        sort: 1,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 10,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 3,
        name: 'Cron',
        title: '定时开关机',
        icon: 'cron-svg|svg',
        path: 'cron',
        redirect: '',
        component: '/back/cron/index',
        permission: '',
        creator: '系统自动创建',
        sort: 2,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
    ],
  },
  {
    id: 4,
    createdAt: '2023-01-10 19:42:57',
    updatedAt: '2023-01-10 19:42:57',
    parentId: 0,
    name: 'System',
    title: '系统管理',
    icon: 'system-config-svg|svg',
    path: '/sys',
    redirect: '/sys/role',
    component: 'LAYOUT',
    permission: '',
    creator: '系统自动创建',
    sort: 3,
    status: 1,
    visible: 1,
    breadcrumb: 0,
    affix: 0,
    children: [
      {
        id: 11,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 4,
        name: 'Role',
        title: '角色管理',
        icon: 'role-svg|svg',
        path: 'role',
        redirect: '',
        component: '/sys/role/index',
        permission: '',
        creator: '系统自动创建',
        sort: 0,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 12,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 4,
        name: 'User',
        title: '用户管理',
        icon: 'users-svg|svg',
        path: 'user',
        redirect: '',
        component: '/sys/user/index',
        permission: '',
        creator: '系统自动创建',
        sort: 1,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 13,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 4,
        name: 'Apis',
        title: '接口管理',
        icon: 'api-svg|svg',
        path: 'apis',
        redirect: '',
        component: '/sys/apis/index',
        permission: '',
        creator: '系统自动创建',
        sort: 2,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 14,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 4,
        name: 'Menu',
        title: '菜单管理',
        icon: 'menus-svg|svg',
        path: 'menu',
        redirect: '',
        component: '/sys/menu/index',
        permission: '',
        creator: '系统自动创建',
        sort: 3,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 15,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 4,
        name: 'OperationLog',
        title: '操作日志',
        icon: 'operation-log|svg',
        path: 'operation-log',
        redirect: '',
        component: '/sys/operation-log/index',
        permission: '',
        creator: '系统自动创建',
        sort: 4,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 16,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 4,
        name: 'About',
        title: '关于',
        icon: '',
        path: 'about',
        redirect: '',
        component: '/sys/about/index',
        permission: '',
        creator: '系统自动创建',
        sort: 5,
        status: 1,
        visible: 0,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
    ],
  },
];

const devRoute = [
  {
    id: 1,
    createdAt: '2023-01-10 19:42:57',
    updatedAt: '2023-01-10 19:42:57',
    parentId: 0,
    name: 'Dashboard',
    title: '首页',
    icon: 'home-svg|svg',
    path: '/dashboard',
    redirect: '',
    component: '/dashboard/analysis/index',
    permission: '',
    creator: '系统自动创建',
    sort: 0,
    status: 1,
    visible: 1,
    breadcrumb: 0,
    affix: 0,
    children: [],
  },
  {
    id: 2,
    createdAt: '2023-01-10 19:42:57',
    updatedAt: '2023-01-10 19:42:57',
    parentId: 0,
    name: 'Node',
    title: '终端管理',
    icon: 'server-svg|svg',
    path: '/node',
    redirect: '/node/list',
    component: 'LAYOUT',
    permission: '',
    creator: '系统自动创建',
    sort: 1,
    status: 1,
    visible: 1,
    breadcrumb: 0,
    affix: 0,
    children: [
      {
        id: 5,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 2,
        name: 'List',
        title: '终端列表',
        icon: 'servers-svg|svg',
        path: 'list',
        redirect: '',
        component: '/node/list/index',
        permission: '',
        creator: '系统自动创建',
        sort: 0,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
      {
        id: 7,
        createdAt: '2023-01-10 19:42:57',
        updatedAt: '2023-01-10 19:42:57',
        parentId: 2,
        name: 'My',
        title: '我的收藏',
        icon: 'like|svg',
        path: 'my',
        redirect: '',
        component: '/node/my/index',
        permission: '',
        creator: '系统自动创建',
        sort: 2,
        status: 1,
        visible: 1,
        breadcrumb: 1,
        affix: 0,
        children: [],
      },
    ],
  },
];

export default [
  {
    url: '/basic-api/menu/tree',
    timeout: 1000,
    method: 'get',
    response: (request: requestParams) => {
      const token = getRequestToken(request);
      if (!token) {
        return resultError('Invalid token!');
      }
      const checkUser = createFakeUserList().find((item) => `Bearer ${item.token}` === token);
      if (!checkUser) {
        return resultError('Invalid user token!');
      }
      const id = checkUser.id;
      let menu: Object[];
      switch (id) {
        case 1:
          menu = adminRoute;
          break;
        case 2:
          menu = devRoute;
          break;
        default:
          menu = [];
      }

      return resultSuccess(menu);
    },
  },
] as MockMethod[];
